!function(a){a.fn.LYLogin=function(b){var c=a.extend({enableCheck:!0,status:"",logstatus:function(a){return 1>a.status?alert("用户未登录"):void 0},name:"account",password:"password",logButton:"logSubmit",invalid:function(a){return alert(a)},success:function(a){return alert(a.info)},fail:function(a){return alert(a.info)},logout:"",logoutButton:"logout",logoutSuccess:function(){return alert("退出登录成功")}},b),d=a(this),g=(d.find('input[name="'+c.name+'"]'),d.find('input[name="'+c.password+'"]'),d.find("."+c.logButton)),h=function(){g.is("input")?(g.val("登录中..."),g.attr("disabled","disabled")):(g.text("登录中..."),g.unbind());var b=a(d).LYFValid();return b.status?a.ajax({type:"post",url:d.attr("action"),data:d.serialize(),cache:!1,dataType:"json",success:function(a){return 1>a.status?c.fail.call(this,a):c.success.call(this,a),g.is("input")?(g.removeAttr("disabled"),g.val("登录")):(g.bind("click",h),g.text("登录")),d[0].reset()}}):(g.is("input")?(g.removeAttr("disabled"),g.val("登录")):(g.bind("click",h),g.text("登录")),c.invalid.call(this,b.info))};return c.enableCheck&&a.ajax({url:c.status,cache:!1,dataType:"json",success:function(a){return c.logstatus.call(this,a)}}),a("."+c.logoutButton).unbind().bind("click",function(){return a.ajax({url:c.logout,cache:!1,success:function(){return c.logoutSuccess.call()}})}),this.each(function(){g.unbind().bind("click",h)})},a.fn.LYFValid=function(b){var d=(a.extend({},b),a(this)),e={status:!0,info:""};return this.each(function(){d.find("input").each(function(){var b=a(this);return b.hasClass("not-empty")&&""==b.val()?(e.status=!1,e.info=b.attr("placeholder")+"不能为空",!1):b.hasClass("mobile-valid")&&!/^1[3|4|5|7|8]\d{9}$/.test(b.val())?(e.status=!1,e.info="手机号码格式不正确",!1):b.hasClass("email-valid")&&!/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/.test(b.val())?(e.status=!1,e.info="邮箱格式不正确",!1):void 0})}),e},a.fn.ListMore=function(b){var c=a.extend({url:"",type:"GET",params:{p:2},box:"",alertbox:function(a){return alert(a)},success:function(b){switch(b.status){case 1:return c.params.p++,d.bind("click",e),d.html("加载更多"),a("."+c.box).append(b.template);case 0:return d.html("没有了"),d.animate({opacity:0},1e3);case-1:return d.bind("click",e),d.html("加载更多"),alertbox(b.info)}}},b),d=a(this),e=function(){return d.unbind(),d.html("加载中..."),a.ajax({url:c.url,type:c.type,data:c.params,cache:!1,dataType:"json",success:function(a){return c.success.call(this,a)},error:function(){return d.bind("click",e),alertbox("请求错误")}})};return this.each(function(){d.unbind().bind("click",e)})},a.fn.js_ily_size=function(b){function d(){a(window).width()>1.3*a(window).height()?a(".appSize").show():a(".appSize").hide()}var c=a.extend({bg:"#182035",color:"#fff",size:"1.6em",speed:"3s",rotate:"90"},b);a("body").append('<div class="appSize"><div class="appSize_box"><div class="appSize_img"></div></div><div class="appSize_txt">为了更好地体验，请将手机/平板竖过来</div></div><style>.appSize{display:none;position:fixed;left:0;top:0;right:0;bottom:0;background:'+c.bg+";z-index:9999;} .appSize .appSize_box{position:absolute;left:0;right:0;top:10%;height:70%;text-align:center;} .appSize .appSize_box .appSize_img{width:100%;height:100%;float:left;background:url(http://static.ilongyuan.cn/ld/jcyf_web/images/appSize_img.png) center no-repeat;background-size:auto 80%;animation:mymove "+c.speed+" infinite;-webkit-animation:mymove "+c.speed+" infinite;} .appSize .appSize_txt{position:absolute;left:0;right:0;top:80%;color:"+c.color+";text-align:center;font-size:"+c.size+";line-height:1.6;} @keyframes mymove { 0% {transform:rotate(0deg);-webkit-transform:rotate(0deg);} 50% {transform:rotate("+c.rotate+"deg);-webkit-transform:rotate("+c.rotate+"deg);} 100% {transform:rotate(0deg);-webkit-transform:rotate(0deg);}}</style>"),d(),a(window).resize(function(){d()})},a.fn.LY_table=function(b){var c=a.extend({_title:".LY_title span",_list:".LY_list",_active:"LY_active",_act:"hover"},b),d=c._title,e=c._list,f=c._active,g=this,h=c._act;g.each(function(){a(this).find(d+":eq(0),"+e+":eq(0)").addClass(f),a(this).find(d).each(function(b){a(this).bind(h,function(){a(this).addClass(f).siblings().removeClass(f),a(this).parent().parent().find(e+":eq("+b+")").addClass(f).siblings().removeClass(f)})})})},a.fn.LY_rollBox=function(b){var e,g,h,i,j,p,c=a.extend({_listBox:".imgBox",_list:".LY_rollList",_prev:".LY_prev",_next:".LY_next",_state:"0",_btnSt:"0",_time:"800",_automatic:"3000",_clearTime:"0",_hoverTime:"0",_act:"hover"},b),f="0",k=c._clearTime,l=c._hoverTime,m=c._btnSt,n=c._automatic,o=c._act,q=c._listBox,r=c._list,s=c._prev,t=c._next,u=c._state,v=c._time;this.each(function(){var c,d;p=a(this),e="",j=p.find(r).length,p.find(r).each(function(){a(this).append("<span>"+a(this).attr("data-text")+"</span>")}),p.find(r).each(function(b){"0"==m?e+="<span>"+(b+1)+"</span>":"1"==m&&(e+="<span><img src='"+a(this).find("img").attr("src")+"'></span>")}),e="<div class='listBtn'>"+e+"</div>",p.append(e),"0"==u?(p.find(r).fadeOut(0),p.find(r).css({position:"absolute",left:"0",top:"0"}),c=function(){f>=j&&(f=0),p.find(r).fadeOut(0),p.find(r).eq(f).stop(!0,!0).fadeIn(v).css({"z-index":"2"}).siblings().css({"z-index":"1"}),p.find(".listBtn span").eq(f).addClass("active").siblings().removeClass("active"),f++}):"1"==u&&(i=p.find(q).width(),p.find(q+" > ul").css({width:i*j+"px",position:"absolute",left:"0",top:"0"}),p.find(q+" > ul > li").css({width:i,"float":"left",margin:"0"}),h=p.find(q+" > ul").clone().css({left:i*j}),p.find(q).append(p.find(q+" > ul").clone()).find("ul").eq(1).css({left:i*j}),c=function(){g=f,f>=j?(g=f-j,p.find(q+" >  ul").eq(0).stop(!0,0).animate({left:-i*f+0*i*j},1*v,function(){p.find(q).append(p.find(q+" > ul").eq(0).clone().css({left:i*j})),p.find(q+" ul").eq(0).remove()}),p.find(q+" >  ul").eq(1).stop(!0,0).animate({left:-i*f+1*i*j},1*v),f=g):p.find(q+" >  ul").each(function(b){a(this).stop(!1,!1).animate({left:-i*f+i*j*b},1*v)}),f++,p.find(".listBtn span").eq(g).addClass("active").siblings().removeClass("active")}),c(),"0"==k&&(d=self.setInterval(c,n),"0"==l&&p.find(q+","+s+","+t+",.listBtn").hover(function(){d=window.clearInterval(d)},function(){d=window.clearInterval(d),d=self.setInterval(c,n)})),p.find(s).bind("click",function(){1>=f&&(f=j+1),f-=2,"0"==k&&(d=window.clearInterval(d)),c()}),p.find(t).bind("click",function(){"0"==k&&(d=window.clearInterval(d)),c()}),p.find(".listBtn span").each(function(b){a(this).bind(o,function(){"0"==k&&(d=window.clearInterval(d)),f!=b+1&&(f=b,c())})})})},a.fn.LY_date=function(b){var d,e,f,g,h,i,c=a.extend({yy:".LY_yy",mm:".LY_mm",dd:".LY_dd",yyName:"年",mmName:"月",ddName:"日",_min:80,_max:10,_active:".LY_active",_list:".LY_list",label:"span"},b),j=this,k=(new Date).getFullYear(),l=k-c._min,m=k+1*c._max,n=12,o=a(c.yy),p=a(c.mm),q=a(c.dd),r=c.yyName,s=c.mmName,t=c.ddName,u=a(c._active),v=a(c._list),w=c._list,x=c.label;j.each(function(){for(a(this).find(o).find("input").val(a(this).find(o).find(u).html().replace(/[^0-9]/gi,"")),a(this).find(p).find("input").val(a(this).find(p).find(u).html().replace(/[^0-9]/gi,"")),a(this).find(q).find("input").val(a(this).find(q).find(u).html().replace(/[^0-9]/gi,"")),d=l;m>=d;d++)a(this).find(o).find(v).append("<"+x+">"+d+"</"+x+">");for(a(this).find(o).find(u).click(function(b){a(this).parent().parent().siblings().find(o).find(v).hide(),a(this).parent().find(v).toggle(),p.find(v).hide(),q.find(v).hide(),b.stopPropagation(),a(document).click(function(){return j.find(v).hide()})}),a(this).find(p).find(u).click(function(b){return a(this).parent().parent().siblings().find(p).find(v).hide(),a(this).parent().find(v).toggle(),f=a(this).parent().parent().find(o).find(u).html().replace(/[^0-9]/gi,""),f.length<1?(alert("请选择年"),j.find(v).hide()):(o.find(v).hide(),q.find(v).hide(),b.stopPropagation(),a(document).click(function(){return j.find(v).hide()}),void 0)}),a(this).find(o).find(w+" "+x).click(function(){d=a(this).html(),g=a(this).parent().parent(),g.find(u).html(d+""+r),g.find("input").val(g.find(u).html().replace(/[^0-9]/gi,"")),g.parent().find(p).find(u).html("1"+s),g.parent().find(p).find("input").val(g.parent().find(p).find(u).html().replace(/[^0-9]/gi,"")),g.parent().find(q).find(u).html("1"+t),g.parent().find(q).find("input").val(g.parent().find(q).find(u).html().replace(/[^0-9]/gi,""))}),d=1;n+1>d;d++)a(this).find(p).find(v).append("<span>"+d+"</span>");a(this).find(p).find(w+" "+x).click(function(){d=a(this).html(),g=a(this).parent().parent(),g.find(v).hide(),g.find(u).html(d+""+s),g.find("input").val(g.find(u).html().replace(/[^0-9]/gi,"")),g.parent().find(q).find(u).html("1"+t),g.parent().find(q).find("input").val(g.parent().find(q).find(u).html().replace(/[^0-9]/gi,""))}),a(this).find(q).find(u).click(function(b){if(g=a(this).parent(),f=g.parent().find(p).find(u).html().replace(/[^0-9]/gi,""),f.length<1)return alert("请选择月");if(g.parent().siblings().find(q).find(v).hide(),g.find(v).toggle(),o.find(v).hide(),p.find(v).hide(),d=f,"1"==d||"3"==d||"5"==d||"7"==d||"8"==d||"10"==d||"12"==d){for(e=31,g.find(v).html(""),d=1;e>=d;d++)g.find(v).append("<span>"+d+"</span>");g.find(w+" "+x).click(function(){d=a(this).html(),g.find(u).html(d+""+t)})}else if("4"==d||"6"==d||"9"==d||"10"==d||"11"==d)for(e=30,g.find(v).html(""),d=1;e>=d;d++)g.find(v).append("<span>"+d+"</span>");else if("2"==d)if(f=g.parent().find(o).find(u).html().replace(/[^0-9]/gi,""),h=f/4,i=Math.ceil(h),i>h)for(e=28,g.find(v).html(""),d=1;e>=d;d++)g.find(v).append("<span>"+d+"</span>");else for(e=29,g.find(v).html(""),d=1;e>=d;d++)g.find(v).append("<span>"+d+"</span>");g.find(w+" "+x).click(function(){d=a(this).html(),g=a(this).parent().parent(),g.find(v).hide(),g.find(u).html(d+""+t),g.find("input").val(g.find(u).html().replace(/[^0-9]/gi,""))}),b.stopPropagation(),a(document).unbind().bind("click",function(){return j.find(v).hide()})})})},a.fn.js_ily_top=function(b){function l(){d=a(window).scrollTop(),d>g?e.fadeIn(h):e.fadeOut(i)}var d,e,c=a.extend({_btn:"",_speed:300,_top:100,_inTime:500,_outTime:200,_html:"<a href='javascript:' class='js_ily_top' style='position:fixed;right:30px;bottom:30px;display:none;'>返回顶部</a>"},b),f=c._html,g=c._top,h=c._inTime,i=c._outTime,j=c._speed;c._btn,a("body").append(f),e=a(c._btn),l(),a(window).scroll(l),e.click(function(){a("body,html").animate({scrollTop:0},j)})},a.fn.LY_searchSelect=function(b){var d,e,g,h,i,j,k,l,m,n,o,p,q,s,t,u,c=a.extend({_state:"1",_url:"data/data.json",_success:function(){},_err:function(){},_type:"post",_dataType:"json",_this:".LY_searchSelect",_hide:"LY_hide",_focusSt:"LY_active",_keyDown:"keyDown",_LY_error:"LY_error",_data:"data-num",_input:".LY_searchText",_getData:".LY_searchData",_list:".LY_list"},b),v=c._data,w=c._input,x=c._getData,y=c._list,z=c._this,A=c._LY_error,B=c._hide,C=c._keyDown,D=c._focusSt,E=c._state,F=c._url,G=c._type,H=c._dataType;a(z).each(function(){function r(){i.find(y+" ."+C+":eq(0)").addClass(D).siblings().removeClass(D),i.find(y).scrollTop(0),a(document).unbind(),o=0,l=0,a(document).keydown(function(b){38==b.keyCode?(o>0&&(k=i.find(y).height(),o--,i.find(y+" ."+C+":eq("+o+")").addClass(D).siblings().removeClass(D),l-=i.find("."+D).outerHeight(),m=i.find("."+D).outerHeight(),i.find(y).scrollTop(l+m-k)),g=i.find("."+D).text(),setTimeout(function(){a(":focus").val(g).removeClass(A),a(":focus").next().val(i.find("."+D).attr(v))},1)):40==b.keyCode?o<i.find(y+" ."+C).length-1&&(k=i.find(y).height(),l+=i.find("."+D).outerHeight(),o++,i.find(y+" ."+C+":eq("+o+")").addClass(D).siblings().removeClass(D),g=i.find("."+D).text(),a(":focus").val(g).removeClass(A),a(":focus").next().val(i.find("."+D).attr(v)),m=i.find(y).find("."+D).outerHeight(),i.find(y).scrollTop(l+m-k)):13==b.keyCode&&(g=i.find("."+D).text(),a(":focus").val(g).removeClass(A),a(":focus").next().val(i.find("."+D).attr(v)))})}d=a(this).find(x).val(),a(this).find(w).val(a(this).find(y+" span["+v+"='"+d+"']").html());var f=function(b){a(y).hide(),g=new RegExp("<b>","g"),i=b.parent(),h=i.find(y).html().replace(g,""),g=new RegExp("</b>","g"),h=h.replace(g,""),t=a.trim(b.val()),g=new RegExp(t,"g"),i.find(y).html(h),a(z).find(y).hide(),i.find(y).show(),e=i.find(y).find("span"),e.each(function(){""!=t?(a(this).html(a(this).html().replace(g,"<b>"+t+"</b>")),a(this).addClass(B).removeClass(C)):a(this).removeClass(B).addClass(C),a(this).html().indexOf("<b>")>=0&&a(this).removeClass(B).addClass(C)}),i.find(y+" span").unbind().bind("click",function(){g=a(this).html().replace(/<b>/g,""),g=g.replace(/<\/b>/g,""),i.find(w).val(g).removeClass(A),i.find(w).next().val(a(this).attr(v))}),r(),a(document).click(function(){a(z).find(y).hide()})};a(this).find(w).focus(function(b){f(a(this)),b.stopPropagation()}).click(function(b){a(document).click(function(){a(z).find(y).hide()}),b.stopPropagation()}),a(this).find(w).bind("input propertychange",function(b){if(p=a(this),q=a(this).next().next(y),s="",0==E)return""==p.val()?q.html(""):a.ajax({url:F,data:{str:p.val()},type:G,dataType:H,success:function(a){for(n=0;n<a.data.lists.length;n++)s+="<span data-num='"+a.data.lists[n].num+"'>"+a.data.lists[n].text+"</span>";q.html(s),f(p),c._success(a)},error:function(a){c._err(a)}}),void 0;if(i=a(this).parent(),g=new RegExp("<b>","g"),h=i.find(y).html().replace(g,""),g=new RegExp("</b>","g"),h=h.replace(g,""),i.find(y).html(h),t=a.trim(a(this).val()),g=t,e=i.find(y).find("span"),j=i.find(y).find("span").length,_thisIn=a(this),i.find(y+" span").unbind().bind("click",function(){g=a(this).html().replace(/<b>/g,""),g=g.replace(/<\/b>/g,""),i.find(w).val(g).removeClass(A),i.find(w).next().val(a(this).attr(v))}),e.addClass(B).removeClass(C),""==a(this).val())e.removeClass(B).addClass(C),a(this).next().val(""),a(this).removeClass(A);else{for(u=t.replace(/\s+/g," ").split(" "),e.each(function(){a(this).html(a(this).html().replace(g,"<b>"+t+"</b>")),a(this).html().indexOf("<b>")>=0&&a(this).removeClass(B).addClass(C)}),n=0;j>n;n++)if(g=new RegExp("<b>","g"),h=a(this).parent().find(y+" span:eq("+n+")").html().replace(g,""),g=new RegExp("</b>","g"),h=h.replace(g,""),h==t)return a(this).next().val(a(this).parent().find(y+" span:eq("+n+")").attr(v)),a(this).removeClass(A),a(document).click(function(){a(z).find(y).hide()}),!1;console.log("111"),a(this).addClass(A),a(this).next().val("")}r(),a(document).click(function(){a(z).find(y).hide()}),b.stopPropagation()})})},a.fn.LY_formBox=function(b){var l,m,p,w,x,y,z,A,C,c=a.extend({_btn:"#formBtn",_box:"#formBox",_labe:":input",_area:"data-area",_state:"data-state",_inputSt:"data-inputSt",_isNum:"data-isNum",_isNumText:"data-isNumText",_defaultText:"格式不正确！",_errorText:"data-error",_alike:"data-alike",_alikeError:"data-alikeError",_active:"active",_callBack:function(){}},b),d=c._btn,e=c._box,f=c._labe,g=a(e).find(f),h=c._state,i=c._errorText,j=c._area,k=c._alike,n=[],o=[],q=c._alikeError,r=c._inputSt,r=c._inputSt,s=c._isNum,t=c._defaultText,u=c._isNumText,v=c._active;a(d).bind("click",function(){function d(){alert(w),m.select().addClass(v)}g.each(function(){a(this).bind("input propertychange",function(){a(this).removeClass(v)})});for(var b=0;b<g.length;b++){if(m=g.eq(b),w=m.attr(i),"undefined"==typeof w&&(w=t),l="undefined"==typeof m.attr(j)?[1,1e5]:m.attr(j).split(","),"1"==m.attr(h)&&m.val().length<l[0]||m.val().length>l[1])return d(),!1;if("1"!=m.attr(h)&&0!=m.val().length&&m.val().length<l[0]||m.val().length>l[1])return d(),!1;if("1"==m.attr(r)){if(!m.val().match(/^((13|14|15|17|18)+\d{9})$/)&&""!=m.val())return alert("手机号码格式不正确！"),m.select(),!1}else if("2"==m.attr(r)){if(!m.val().match(/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/)&&""!=m.val())return alert("邮箱格式不正确"),m.select(),!1}else if("undefined"!=typeof m.attr(s))if(_val=m.val(),w=m.attr(u),"undefined"==typeof w&&(w=t),"1"==m.attr(s)&&""!=_val){for(C=0;C<_val.length;C++)if(isNaN(_val[C]))return d(),!1}else if("2"==m.attr(s)&&""!=_val){if(isNaN(_val))return d(),!1}else if("3"==m.attr(s)&&""!=_val){if(!_val.match(/^[A-Za-z]*$/))return d(),!1}else if("4"==m.attr(s)&&""!=_val&&!_val.match(/^[A-Za-z0-9_-]*$/))return d(),!1}for(g.each(function(){"undefined"!=typeof a(this).attr(k)&&n.push(a(this).attr(k))}),b=0;b<n.length;b++)A=n[b],-1==a.inArray(A,o)&&o.push(A);for(b=0;b<o.length;b++)for(y=a(e).find(f+"["+k+"="+o[b]+"]"),p=y.val(),x=y.attr(q),C=0;C<y.length;C++)if(z=y.eq(C),z.val()!=p)return alert(x),z.select(),!1;c._callBack()})},a.fn.LY_ajax=function(b){var c=a.extend({_url:"",_data:this.serialize(),_type:"post",_dataType:"json",_box:"#LY_ajax",_btn:"#LY_ajaxBtn",_must:".LY_must",_success:function(){},_error:function(){}},b),d=c._url,e=c._data,f=c._type,g=c._dataType,i=(c._box,c._btn);c._must,i.bind("click",function(){a.ajax({url:d,data:e,type:f,dataType:g,success:function(){c._success()},error:function(){ops._error()}})})}}(jQuery);